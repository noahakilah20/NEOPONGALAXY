<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Jogo de Basquete Simples</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body, html {
      height: 100%;
      background: linear-gradient(#87ceeb, #ffffff);
      font-family: Arial, sans-serif;
      overflow: hidden;
    }

    canvas {
      display: block;
      margin: 0 auto;
      background-color: #e0e0e0;
    }
  </style>
</head>
<body>
<canvas id="jogoCanvas" width="400" height="600"></canvas>

<script>
  const canvas = document.getElementById("jogoCanvas");
  const ctx = canvas.getContext("2d");

  let bola = {
    x: 200,
    y: 500,
    raio: 20,
    cor: "orange",
    dx: 0,
    dy: 0,
    arremessando: false
  };

  let cesto = {
    x: 150,
    y: 100,
    largura: 100,
    altura: 10
  };

  let tocando = false;
  let inicioX, inicioY;

  function desenharCesto() {
    ctx.fillStyle = "brown";
    ctx.fillRect(cesto.x, cesto.y, cesto.largura, cesto.altura);
  }

  function desenharBola() {
    ctx.beginPath();
    ctx.arc(bola.x, bola.y, bola.raio, 0, Math.PI * 2);
    ctx.fillStyle = bola.cor;
    ctx.fill();
    ctx.closePath();
  }

  function atualizar() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    if (bola.arremessando) {
      bola.dy += 0.3; // gravidade
      bola.x += bola.dx;
      bola.y += bola.dy;

      // quicar no ch√£o
      if (bola.y + bola.raio > canvas.height) {
        bola.dy *= -0.6;
        bola.y = canvas.height - bola.raio;
      }

      // colis√£o nas laterais
      if (bola.x - bola.raio < 0 || bola.x + bola.raio > canvas.width) {
        bola.dx *= -1;
      }

      // acertou o cesto
      if (
        bola.x > cesto.x &&
        bola.x < cesto.x + cesto.largura &&
        bola.y - bola.raio < cesto.y + cesto.altura &&
        bola.y - bola.raio > cesto.y - 10
      ) {
        bola.arremessando = false;
        alert("üèÄ Cesta!");
        resetarBola();
      }
    }

    desenharCesto();
    desenharBola();
    requestAnimationFrame(atualizar);
  }

  function resetarBola() {
    bola.x = 200;
    bola.y = 500;
    bola.dx = 0;
    bola.dy = 0;
    bola.arremessando = false;
  }

  function iniciarArrasto(e) {
    tocando = true;
    const pos = pegarPosicao(e);
    inicioX = pos.x;
    inicioY = pos.y;
  }

  function soltarArrasto(e) {
    if (!tocando) return;
    tocando = false;

    const fim = pegarPosicao(e);
    const forcaX = (fim.x - inicioX) * 0.2;
    const forcaY = (fim.y - inicioY) * 0.2;

    bola.dx = forcaX;
    bola.dy = forcaY;
    bola.arremessando = true;
  }

  function pegarPosicao(e) {
    if (e.touches) {
      return {
        x: e.touches[0].clientX - canvas.getBoundingClientRect().left,
        y: e.touches[0].clientY - canvas.getBoundingClientRect().top
      };
    } else {
      return {
        x: e.clientX - canvas.getBoundingClientRect().left,
        y: e.clientY - canvas.getBoundingClientRect().top
      };
    }
  }

  canvas.addEventListener("mousedown", iniciarArrasto);
  canvas.addEventListener("mouseup", soltarArrasto);
  canvas.addEventListener("touchstart", iniciarArrasto);
  canvas.addEventListener("touchend", soltarArrasto);

  atualizar();
</script>
</body>
</html>